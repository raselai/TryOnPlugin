// Prisma schema for Muse Hair Pro Virtual Try-On
// Database: PostgreSQL (Supabase)

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Shade {
  id               String   @id @default(cuid())
  name             String   // e.g., "Jet Black", "Honey Blonde"
  hexColor         String   // e.g., "#1B1B1B"
  displayOrder     Int      @default(0)
  shopifyVariantId String?  // Maps to Shopify variant for cart
  active           Boolean  @default(true)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([active, displayOrder])
}

model Length {
  id               String   @id @default(cuid())
  label            String   // e.g., "14 inches"
  inches           Int      // e.g., 14
  bodyLandmark     String   // e.g., "shoulders", "mid-back", "waist", "below waist"
  displayOrder     Int      @default(0)
  active           Boolean  @default(true)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  @@index([active, displayOrder])
}

model Texture {
  id           String   @id @default(cuid())
  name         String   // e.g., "Straight", "Wavy", "Curly"
  displayOrder Int      @default(0)
  active       Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  @@index([active, displayOrder])
}

model AdminUser {
  id        String   @id @default(cuid())
  email     String   @unique
  createdAt DateTime @default(now())
}
